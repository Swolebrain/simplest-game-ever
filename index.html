<!DOCTYPE html>
<html>
  <head>
    <title>Simplest Game Ever</title>
    <style>
      body{
        background-color: rgba(200,200,200,1);
      }
      canvas{
        width: 600px;
        height: 480px;
        display:block;
        margin: 0 auto;
      }
    </style>
  </head>
  <body>
    <canvas></canvas>
    <script>
      var canvas = document.getElementsByTagName("canvas")[0];
      var ctx = canvas.getContext("2d");
      var keyboard = {
        up: false, down: false, left: false, right: false
      };
      var player = {
        x : 100,
        y : 100,
        update : function(){
          if (keyboard.up == true) this.y--;
          if (keyboard.down) this.y++;
          if (keyboard.left) this.x--;
          if (keyboard.right) this.x++;
        },
        draw : function(){
          ctx.fillStyle = "black";
          ctx.fillRect(this.x, this.y, 50, 50);
        }
      }


      gameLoop();

      function gameLoop(){
        ctx.fillStyle = "white";
        ctx.fillRect(0,0,canvas.width, canvas.height);

        player.update();
        player.draw();
        window.requestAnimationFrame(gameLoop);
      }

      document.addEventListener("keydown", function(e){
        if (e.code == "ArrowUp") keyboard.up = true;
        if (e.code == "ArrowDown") keyboard.down = true;
        if (e.code == "ArrowLeft") keyboard.left = true;
        if (e.code == "ArrowRight") keyboard.right = true;
      });
      document.addEventListener("keyup", function(e){
        if (e.code == "ArrowUp") keyboard.up = false;
        if (e.code == "ArrowDown") keyboard.down = false;
        if (e.code == "ArrowLeft") keyboard.left = false;
        if (e.code == "ArrowRight") keyboard.right = false;
      });
    </script>
  </body>
</html>
